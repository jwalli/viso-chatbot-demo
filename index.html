<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visco Chatbot Demo - Standard Embedding</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            padding: 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* Test Status */
        .test-status {
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .test-status h2 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        /* Info Cards */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-left: 5px solid #667eea;
        }

        .info-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .info-card p {
            color: #666;
            line-height: 1.6;
        }

        /* Debug Info */
        .debug {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 14px;
            margin-bottom: 20px;
            overflow-x: auto;
        }

        .debug h4 {
            margin-bottom: 10px;
            color: #3498db;
        }

        /* Chat Positioning Hints */
        .position-hint {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 14px;
            z-index: 8888;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 0.6; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .position-hint {
                top: 10px;
                left: 10px;
                font-size: 12px;
                padding: 10px 15px;
            }
        }

        /* Versuche den Chat zu verschieben - verschiedene Ans√§tze */
        langflow-chat {
            /* Methode 1: Direkte Positionierung */
            position: fixed !important;
            top: 80px !important;
            left: 20px !important;
            z-index: 9999 !important;
            
            /* Methode 2: Transform */
            transform: translate(0, 0) !important;
            
            /* Methode 3: Margin Override */
            margin: 0 !important;
        }

        /* Fallback f√ºr alle m√∂glichen Container */
        langflow-chat > *,
        langflow-chat div:first-child,
        langflow-chat [class*="container"],
        langflow-chat [class*="widget"],
        langflow-chat [class*="chat"] {
            position: relative !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            margin: 0 !important;
        }
    </style>
</head>
<body>
    <!-- Position Hint -->
    <div class="position-hint">
        üìç Chat sollte hier erscheinen<br>
        <small>(Oben links im Viewport)</small>
    </div>

    <!-- Header -->
    <div class="header">
        <h1>ü§ñ Visco Chatbot</h1>
        <p>Standard Embedding Test</p>
    </div>

    <!-- Test Status -->
    <div class="test-status">
        <h2>üß™ STANDARD EMBEDDING TEST</h2>
        <p>Verwende das originale Langflow-Embedding ohne Modifikationen</p>
    </div>

    <!-- Debug Info -->
    <div class="debug">
        <h4>üîç Debug Information:</h4>
        <div id="debug-content">
            Lade Chat-Informationen...
        </div>
    </div>

    <!-- Info Grid -->
    <div class="info-grid">
        <div class="info-card">
            <h3>üìã Standard Embedding</h3>
            <p>Verwendet das originale Langflow-Chat Element ohne Positionierungs-Hacks. Der Chat sollte standardm√§√üig oben links erscheinen.</p>
        </div>

        <div class="info-card">
            <h3>üéØ Erwartete Position</h3>
            <p>Oben links im Viewport, direkt unter dem blauen Hinweis-Banner. Wenn er woanders erscheint, liegt es an Langflow-internen Styles.</p>
        </div>

        <div class="info-card">
            <h3>üîß N√§chste Schritte</h3>
            <p>Falls der Chat nicht oben links erscheint, k√∂nnen wir die Langflow-Attribute untersuchen oder alternative Embedding-Methoden verwenden.</p>
        </div>
    </div>

    <!-- Standard Langflow Embedding -->
    <script src="https://cdn.jsdelivr.net/gh/logspace-ai/langflow-embedded-chat@v1.0.7/dist/build/static/js/bundle.min.js"></script>
    
    <langflow-chat
        window_title="Visco"
        flow_id="04342e71-2daa-4384-9792-b4d7765f6f9b"
        host_url="https://langflowailangflowlatest-production-aec5.up.railway.app">
    </langflow-chat>

    <script>
        console.log('üöÄ Standard Langflow Embedding geladen');
        
        // Debug-Informationen sammeln
        function updateDebugInfo() {
            const debugDiv = document.getElementById('debug-content');
            const langflowChat = document.querySelector('langflow-chat');
            
            if (langflowChat) {
                const rect = langflowChat.getBoundingClientRect();
                const computedStyle = window.getComputedStyle(langflowChat);
                
                debugDiv.innerHTML = `
                    <strong>‚úÖ Langflow-Chat gefunden!</strong><br>
                    Position: ${rect.top.toFixed(0)}px top, ${rect.left.toFixed(0)}px left<br>
                    Gr√∂√üe: ${rect.width.toFixed(0)}px √ó ${rect.height.toFixed(0)}px<br>
                    CSS Position: ${computedStyle.position}<br>
                    CSS Top: ${computedStyle.top}<br>
                    CSS Left: ${computedStyle.left}<br>
                    CSS Transform: ${computedStyle.transform}<br>
                    Z-Index: ${computedStyle.zIndex}<br>
                    <br>
                    <strong>Verf√ºgbare Attribute:</strong><br>
                    ${Array.from(langflowChat.attributes).map(attr => 
                        `${attr.name}="${attr.value}"`
                    ).join('<br>')}
                `;
            } else {
                debugDiv.innerHTML = `
                    <strong>‚è≥ Warte auf Langflow-Chat...</strong><br>
                    Chat-Element noch nicht geladen.
                `;
            }
        }
        
        // Regelm√§√üige Updates
        setInterval(updateDebugInfo, 1000);
        updateDebugInfo();
        
        // Event Listeners
        window.addEventListener('load', () => {
            setTimeout(updateDebugInfo, 2000);
        });
        
        // MutationObserver f√ºr Chat-Erkennung
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'childList') {
                    updateDebugInfo();
                }
            });
        });
        
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
        
        console.log('‚úÖ Debug-System gestartet');
    </script>
</body>
</html>
